__d(227,function(e,o,t,r){"use strict";function n(e,o,t,r){var n=S(e)?D.startShouldSetResponder:R(e)?D.moveShouldSetResponder:e===a.topLevelTypes.topSelectionChange?D.selectionChangeShouldSetResponder:D.scrollShouldSetResponder,s=b?u.getLowestCommonAncestor(b,o):o,l=s===b,h=c.getPooled(n,s,t,r);h.touchHistory=d.touchHistory,l?i.accumulateTwoPhaseDispatchesSkipTarget(h):i.accumulateTwoPhaseDispatches(h);var v=H(h);if(h.isPersistent()||h.constructor.release(h),!v||v===b)return null;var f,T=c.getPooled(D.responderGrant,v,t,r);T.touchHistory=d.touchHistory,i.accumulateDirectDispatches(T);var C=g(T)===!0;if(b){var N=c.getPooled(D.responderTerminationRequest,b,t,r);N.touchHistory=d.touchHistory,i.accumulateDirectDispatches(N);var G=!m(N)||g(N);if(N.isPersistent()||N.constructor.release(N),G){var P=c.getPooled(D.responderTerminate,b,t,r);P.touchHistory=d.touchHistory,i.accumulateDirectDispatches(P),f=p(f,[T,P]),y(v,C)}else{var I=c.getPooled(D.responderReject,v,t,r);I.touchHistory=d.touchHistory,i.accumulateDirectDispatches(I),f=p(f,I)}}else f=p(f,T),y(v,C);return f}function s(e,o,t){return o&&(e===a.topLevelTypes.topScroll&&!t.responderIgnoreScroll||f>0&&e===a.topLevelTypes.topSelectionChange||S(e)||R(e))}function l(e){var o=e.touches;if(!o||0===o.length)return!0;for(var t=0;t<o.length;t++){var r=o[t],n=r.target;if(null!==n&&void 0!==n&&0!==n){var s=u.getInstanceFromNode(n);if(u.isAncestor(b,s))return!1}}return!0}var a=o(119),u=o(122),i=o(216),c=o(228),d=o(229),p=o(230),h=o(35),S=u.isStartish,R=u.isMoveish,v=u.isEndish,g=u.executeDirectDispatch,m=u.hasDispatches,H=u.executeDispatchesInOrderStopAtTrue,b=null,f=0,T=0,y=function(e,o){var t=b;b=e,null!==C.GlobalResponderHandler&&C.GlobalResponderHandler.onChange(t,e,o)},D={startShouldSetResponder:{phasedRegistrationNames:{bubbled:h({onStartShouldSetResponder:null}),captured:h({onStartShouldSetResponderCapture:null})}},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:h({onScrollShouldSetResponder:null}),captured:h({onScrollShouldSetResponderCapture:null})}},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:h({onSelectionChangeShouldSetResponder:null}),captured:h({onSelectionChangeShouldSetResponderCapture:null})}},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:h({onMoveShouldSetResponder:null}),captured:h({onMoveShouldSetResponderCapture:null})}},responderStart:{registrationName:h({onResponderStart:null})},responderMove:{registrationName:h({onResponderMove:null})},responderEnd:{registrationName:h({onResponderEnd:null})},responderRelease:{registrationName:h({onResponderRelease:null})},responderTerminationRequest:{registrationName:h({onResponderTerminationRequest:null})},responderGrant:{registrationName:h({onResponderGrant:null})},responderReject:{registrationName:h({onResponderReject:null})},responderTerminate:{registrationName:h({onResponderTerminate:null})}},C={_getResponderID:function(){return b?b._rootNodeID:null},eventTypes:D,extractEvents:function(e,o,t,r){if(S(e))f+=1;else if(v(e)){if(!(f>=0))return console.error("Ended a touch event which was not counted in `trackedTouchCount`."),null;f-=1}d.recordTouchTrack(e,t);var u=s(e,o,t)?n(e,o,t,r):null,h=b&&S(e),g=b&&R(e),m=b&&v(e),H=h?D.responderStart:g?D.responderMove:m?D.responderEnd:null;if(H){var N=c.getPooled(H,b,t,r);N.touchHistory=d.touchHistory,i.accumulateDirectDispatches(N),u=p(u,N)}var G=b&&e===a.topLevelTypes.topTouchCancel,P=b&&!G&&v(e)&&l(t),I=G?D.responderTerminate:P?D.responderRelease:null;if(I){var j=c.getPooled(I,b,t,r);j.touchHistory=d.touchHistory,i.accumulateDirectDispatches(j),u=p(u,j),y(null)}var E=d.touchHistory.numberActiveTouches;return C.GlobalInteractionHandler&&E!==T&&C.GlobalInteractionHandler.onChange(E),T=E,u},GlobalResponderHandler:null,GlobalInteractionHandler:null,injection:{injectGlobalResponderHandler:function(e){C.GlobalResponderHandler=e},injectGlobalInteractionHandler:function(e){C.GlobalInteractionHandler=e}}};t.exports=C});